<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- SEO Meta Tags -->
    <title>Vozila - Free YouTube Video & Playlist Downloader | HD Quality</title>
    <meta name="description" content="Download YouTube videos and playlists in HD quality for free with Vozila. Fast, secure, and easy-to-use YouTube downloader with support for multiple formats and resolutions.">
    <meta name="keywords" content="vozila, youtube downloader, video downloader, playlist downloader, HD video, free download, mp4, mp3, youtube to mp4, 1080p download, 4K video">
    <meta name="author" content="Vozila">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="theme-color" content="#3B82F6">    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Vozila - Free YouTube Video & Playlist Downloader">
    <meta property="og:description" content="Download YouTube videos and playlists in HD quality for free with Vozila. Fast, secure, and easy-to-use.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vozila.com">
    <meta property="og:image" content="/static/favicon.ico">
    <meta property="og:site_name" content="Vozila">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Vozila - Free YouTube Video Downloader">
    <meta name="twitter:description" content="Download YouTube videos and playlists in HD quality for free with Vozila.">
    <meta name="twitter:image" content="/static/favicon.ico">
    <meta name="twitter:site" content="@Vozila">
    <meta name="twitter:creator" content="@Vozila">
      <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon.ico">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.youtube.com">
    <link rel="preconnect" href="https://i.ytimg.com">    <!-- Canonical URL -->
    <link rel="canonical" href="https://vozila.com"><!-- Structured Data -->    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",        "name": "Vozila",
        "description": "Free YouTube video and playlist downloader with HD quality support",
        "url": "https://vozila.com",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Web Browser",
        "browserRequirements": "Requires JavaScript. Supports Chrome, Firefox, Safari, Edge.",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "HD Video Downloads",
            "Playlist Support",
            "Multiple Format Options",
            "No Registration Required",
            "Unlimited Downloads",
            "Fast Processing"
        ],        "creator": {
            "@type": "Organization",
            "name": "Vozila"
        },
        "datePublished": "2025-01-08",
        "dateModified": "2025-01-08",
        "inLanguage": "en",
        "isAccessibleForFree": true
    }
    </script>
    
    <!-- FAQ Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "Is it legal to download YouTube videos?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "You can download videos for personal, offline viewing if you have permission from the copyright owner or if the content is in the public domain."
                }
            },
            {
                "@type": "Question",
                "name": "What video quality can I download?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "We support downloads up to 4K resolution (when available) as well as various other quality options including 1080p, 720p, 480p, and audio-only formats."
                }
            },
            {
                "@type": "Question",
                "name": "Are there any download limits?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "No! Our service is completely unlimited. Download as many videos and playlists as you want, whenever you want."
                }
            }
        ]
    }
    </script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
          .progress-bar {
            transition: width 0.3s ease;
        }
        
        .progress-bar-animated {
            background: linear-gradient(45deg, #10b981, #059669, #047857, #065f46) !important;
            background-size: 200% 200%;
            animation: progressPulse 2s infinite;
        }
        
        @keyframes progressPulse {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .bounce-in {
            animation: bounceIn 0.6s ease-out;
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">                <div class="flex items-center">
                    <div class="flex-shrink-0">                        <h1 class="text-2xl font-bold text-gray-900">
                            <span class="text-blue-600">Vo</span>zila
                        </h1>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#features" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition">Features</a>
                        <a href="#how-it-works" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition">How it Works</a>
                        <a href="#faq" class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition">FAQ</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="gradient-bg text-white py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">            <h2 class="text-5xl font-bold mb-6 bounce-in">
                Vozila - Download YouTube Videos & Playlists
            </h2><p class="text-xl mb-8 opacity-90 fade-in">
                Fast, free, and unlimited YouTube downloader. Support for HD quality, playlists, and multiple formats with no restrictions.
            </p>
            
            <!-- Download Form -->
            <div class="max-w-4xl mx-auto">
                <div class="glass-effect rounded-lg p-8 fade-in">
                    <div class="flex flex-col md:flex-row gap-4 mb-6">
                        <input 
                            type="url" 
                            id="videoUrl" 
                            placeholder="Paste YouTube URL here..." 
                            class="flex-1 px-4 py-3 rounded-lg border-0 text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-blue-500 outline-none"
                        >
                        <button 
                            id="getInfoBtn" 
                            class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition duration-200 transform hover:scale-105"
                        >
                            Get Info
                        </button>
                    </div>
                    
                    <!-- Video Info Display -->
                    <div id="videoInfo" class="hidden mb-6 p-4 bg-white bg-opacity-20 rounded-lg text-left">
                        <div class="flex flex-col md:flex-row gap-4">
                            <img id="videoThumbnail" class="w-full md:w-48 h-32 object-cover rounded-lg" alt="Video thumbnail">
                            <div class="flex-1">
                                <h3 id="videoTitle" class="text-xl font-semibold mb-2"></h3>
                                <p id="videoUploader" class="text-sm opacity-80 mb-1"></p>
                                <p id="videoDuration" class="text-sm opacity-80 mb-1"></p>
                                <p id="videoViews" class="text-sm opacity-80"></p>
                            </div>
                        </div>
                    </div>
                      <!-- Quality Selection -->
                    <div id="qualitySection" class="hidden mb-6">
                        <label class="block text-left mb-2 font-semibold">Select Quality:</label>                        <select id="qualitySelect" class="w-full px-4 py-3 rounded-lg border-0 text-gray-900 focus:ring-2 focus:ring-blue-500 outline-none">
                            <option value="best">Best Available Quality</option>
                            <option value="1080p">1080p Full HD</option>
                            <option value="720p">720p HD</option>
                            <option value="480p">480p Standard</option>
                            <option value="360p">360p Low</option>
                            <option value="144p">144p Mobile</option>
                            <option value="audio">Audio Only (MP3)</option>
                        </select>
                    </div>
                    
                    <!-- YouTube Info Section -->
                    <div class="mb-6 bg-blue-500 bg-opacity-20 rounded-lg p-4 text-sm">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <svg class="w-5 h-5 text-blue-300 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                                </svg>
                            </div>
                            <div class="ml-3">
                                <p class="font-medium text-blue-100">About YouTube Downloads</p>
                                <p class="mt-1 text-blue-200">
                                    YouTube has enhanced bot protection. If a video fails to load or download, try:
                                    <br>• Using cookies (for age-restricted/private videos)
                                    <br>• Trying different videos (some may be geo-blocked)
                                    <br>• Waiting a few minutes before trying again
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cookie Upload Section -->
                    <div id="cookieSection" class="hidden mb-6">
                        <details class="bg-white bg-opacity-20 rounded-lg p-4">
                            <summary class="cursor-pointer font-semibold text-left">
                                🍪 Upload Cookies (For Restricted Videos)
                            </summary>
                            <div class="mt-4">
                                <p class="text-sm mb-3 text-left opacity-90">
                                    If the video is age-restricted, private, or fails to download, you can upload your YouTube cookies to access it.
                                </p>
                                <textarea 
                                    id="cookiesInput" 
                                    placeholder="Paste your YouTube cookies here (Netscape format or JSON)..."
                                    class="w-full px-4 py-3 rounded-lg border-0 text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-blue-500 outline-none h-24 resize-none"
                                ></textarea>
                                <div class="mt-2 text-xs opacity-80 text-left">
                                    <strong>How to get cookies:</strong>
                                    <ol class="list-decimal list-inside mt-1">
                                        <li>Install a browser extension like "Get cookies.txt LOCALLY"</li>
                                        <li>Go to YouTube.com and log in to your account</li>
                                        <li>Use the extension to export cookies</li>
                                        <li>Paste the exported cookies above</li>
                                    </ol>
                                </div>
                            </div>
                        </details>
                    </div>
                    
                    <!-- Download Button -->
                    <button 
                        id="downloadBtn" 
                        class="hidden w-full bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition duration-200 transform hover:scale-105"
                    >
                        Start Download
                    </button>
                    
                    <!-- Progress Section -->
                    <div id="progressSection" class="hidden mt-6">
                        <div class="bg-white bg-opacity-20 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <span id="progressText">Preparing download...</span>
                                <span id="progressPercent">0%</span>
                            </div>
                            <div class="w-full bg-gray-300 rounded-full h-2">
                                <div id="progressBar" class="bg-green-500 h-2 rounded-full progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                          <!-- Download Link -->
                        <div id="downloadLinkSection" class="hidden mt-4">
                            <a id="downloadLink" class="inline-block bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-semibold transition duration-200 transform hover:scale-105">
                                Download File
                            </a>
                        </div>
                          <!-- Error Help Section -->
                        <div id="errorHelpSection" class="hidden mt-4 bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded">
                            <strong class="font-bold">💡 Troubleshooting Tips:</strong>
                            <ul class="mt-2 text-sm list-disc list-inside">
                                <li><strong>For restricted/private videos:</strong> Try uploading YouTube cookies using the section above</li>
                                <li>Try selecting a lower quality (720p or 480p)</li>
                                <li>Some videos may be geo-blocked or age-restricted</li>
                                <li>Make sure you're logged in to YouTube when exporting cookies</li>
                                <li>Try a different video URL if the issue persists</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <section id="features" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">                <h2 class="text-4xl font-bold text-gray-900 mb-4">Why Choose Vozila?</h2>
                <p class="text-xl text-gray-600">Experience the best YouTube downloading service with premium features</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="feature-card bg-gray-50 p-8 rounded-lg shadow-sm">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Lightning Fast</h3>
                    <p class="text-gray-600">Download videos at maximum speed with our optimized servers and advanced compression algorithms.</p>
                </div>
                
                <div class="feature-card bg-gray-50 p-8 rounded-lg shadow-sm">
                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">HD Quality</h3>
                    <p class="text-gray-600">Download in up to 4K resolution with crystal clear audio quality. Choose from multiple format options.</p>
                </div>
                
                <div class="feature-card bg-gray-50 p-8 rounded-lg shadow-sm">
                    <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Playlist Support</h3>
                    <p class="text-gray-600">Download entire playlists with a single click. Batch processing saves you time and effort.</p>
                </div>
                
                <div class="feature-card bg-gray-50 p-8 rounded-lg shadow-sm">
                    <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">100% Secure</h3>
                    <p class="text-gray-600">Your privacy is our priority. No registration required, no data stored, completely anonymous downloads.</p>
                </div>
                
                <div class="feature-card bg-gray-50 p-8 rounded-lg shadow-sm">
                    <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">All Devices</h3>
                    <p class="text-gray-600">Works perfectly on desktop, mobile, and tablet. Responsive design adapts to any screen size.</p>
                </div>
                
                <div class="feature-card bg-gray-50 p-8 rounded-lg shadow-sm">
                    <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Free Forever</h3>
                    <p class="text-gray-600">Completely free service with no hidden costs, premium subscriptions, or download limits.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">How It Works</h2>
                <p class="text-xl text-gray-600">Download YouTube videos in 3 simple steps</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">1</div>
                    <h3 class="text-xl font-semibold mb-3">Paste URL</h3>
                    <p class="text-gray-600">Copy and paste the YouTube video or playlist URL into the input field above.</p>
                </div>
                
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">2</div>
                    <h3 class="text-xl font-semibold mb-3">Choose Quality</h3>
                    <p class="text-gray-600">Select your preferred video quality and format from the available options.</p>
                </div>
                
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">3</div>
                    <h3 class="text-xl font-semibold mb-3">Download</h3>
                    <p class="text-gray-600">Click download and wait for the processing to complete. Your file will be ready in seconds.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-20 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Frequently Asked Questions</h2>
            </div>
            
            <div class="space-y-6">
                <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-2">Is this service completely free?</h3>
                    <p class="text-gray-600">Yes, our YouTube downloader is 100% free with no hidden costs or premium subscriptions required.</p>
                </div>
                
                <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-2">What video qualities are supported?</h3>
                    <p class="text-gray-600">We support all available qualities from 144p to 4K (when available), plus audio-only downloads in MP3 format.</p>
                </div>
                
                <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-2">Can I download entire playlists?</h3>
                    <p class="text-gray-600">Yes! Simply paste the playlist URL and we'll download all videos in the playlist as a convenient ZIP file.</p>
                </div>
                
                <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-2">Is it safe to use?</h3>
                    <p class="text-gray-600">Absolutely. We don't store any of your data, require registration, or track your downloads. Your privacy is protected.</p>
                </div>
                  <div class="border border-gray-200 rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-2">Are there any download limits?</h3>
                    <p class="text-gray-600">No! Our service is completely unlimited. Download as many videos and playlists as you want, whenever you want.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">                <h3 class="text-2xl font-bold mb-4">Vozila</h3>
                <p class="text-gray-400 mb-6">The best free YouTube video and playlist downloader</p>
                <div class="flex justify-center space-x-6 text-sm text-gray-400">
                    <a href="#" class="hover:text-white transition">Privacy Policy</a>
                    <a href="#" class="hover:text-white transition">Terms of Service</a>
                    <a href="#" class="hover:text-white transition">Contact</a>
                </div>
                <p class="text-gray-500 text-sm mt-6">&copy; 2025 Vozila. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        class YouTubeDownloader {
            constructor() {
                this.currentDownloadId = null;
                this.progressInterval = null;
                this.initializeEventListeners();
            }            initializeEventListeners() {
                document.getElementById('getInfoBtn').addEventListener('click', () => this.getVideoInfo());
                document.getElementById('downloadBtn').addEventListener('click', () => this.startDownload());
                document.getElementById('videoUrl').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.getVideoInfo();
                });
            }

            resetUIState() {
                // Hide all sections that should be reset
                document.getElementById('videoInfo').classList.add('hidden');
                document.getElementById('qualitySection').classList.add('hidden');
                document.getElementById('cookieSection').classList.add('hidden');
                document.getElementById('downloadBtn').classList.add('hidden');
                document.getElementById('progressSection').classList.add('hidden');
                document.getElementById('downloadLinkSection').classList.add('hidden');
                document.getElementById('errorHelpSection').classList.add('hidden');
                
                // Reset download button state
                const downloadBtn = document.getElementById('downloadBtn');
                downloadBtn.textContent = 'Start Download';
                downloadBtn.disabled = false;
                downloadBtn.style.display = '';
                
                // Clear any ongoing progress tracking
                if (this.progressInterval) {
                    clearInterval(this.progressInterval);
                    this.progressInterval = null;
                }
                
                // Reset current download ID
                this.currentDownloadId = null;
                
                // Reset progress bar
                const progressBar = document.getElementById('progressBar');
                const progressText = document.getElementById('progressText');
                const progressPercent = document.getElementById('progressPercent');
                
                if (progressBar) {
                    progressBar.style.width = '0%';
                    progressBar.style.background = '';
                    progressBar.classList.remove('progress-bar-animated');
                }
                if (progressText) progressText.textContent = 'Preparing download...';
                if (progressPercent) progressPercent.textContent = '0%';
                
                // Clear cookies input
                document.getElementById('cookiesInput').value = '';
                
                // Reset quality selector to default
                document.getElementById('qualitySelect').value = 'best';
            }async getVideoInfo() {
                const url = document.getElementById('videoUrl').value.trim();
                if (!url) {
                    this.showError('Please enter a YouTube URL');
                    return;
                }

                // Reset UI state when getting info for a new URL
                this.resetUIState();

                const btn = document.getElementById('getInfoBtn');
                const originalText = btn.textContent;
                btn.textContent = 'Loading...';
                btn.disabled = true;

                try {
                    const response = await fetch('/api/info', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ url })
                    });

                    const data = await response.json();

                    if (!response.ok) {
                        throw new Error(data.error || 'Failed to get video info');
                    }                    this.displayVideoInfo(data);
                    document.getElementById('qualitySection').classList.remove('hidden');
                    document.getElementById('cookieSection').classList.remove('hidden');
                    document.getElementById('downloadBtn').classList.remove('hidden');                } catch (error) {
                    let errorMessage = error.message;
                    
                    // Provide more helpful error messages
                    if (errorMessage.includes('Sign in to confirm you\'re not a bot')) {
                        errorMessage = '⚠️ YouTube bot protection detected. Please upload cookies below or try a different video.';
                    } else if (errorMessage.includes('Private video')) {
                        errorMessage = '🔒 This video is private. Please upload cookies if you have access.';
                    } else if (errorMessage.includes('Video unavailable')) {
                        errorMessage = '❌ Video unavailable. It may be deleted, blocked, or region-restricted.';
                    } else if (errorMessage.includes('Age-restricted')) {
                        errorMessage = '🔞 Age-restricted video. Please upload cookies to download.';
                    }
                    
                    this.showError(errorMessage);
                } finally {
                    btn.textContent = originalText;
                    btn.disabled = false;
                }
            }

            displayVideoInfo(info) {
                const infoDiv = document.getElementById('videoInfo');
                const thumbnail = document.getElementById('videoThumbnail');
                const title = document.getElementById('videoTitle');
                const uploader = document.getElementById('videoUploader');
                const duration = document.getElementById('videoDuration');
                const views = document.getElementById('videoViews');

                thumbnail.src = info.thumbnail;
                title.textContent = info.title;
                uploader.textContent = `By: ${info.uploader}`;
                duration.textContent = `Duration: ${this.formatDuration(info.duration)}`;
                views.textContent = `Views: ${this.formatNumber(info.view_count)}`;

                if (info.is_playlist) {
                    const playlistInfo = document.createElement('p');
                    playlistInfo.className = 'text-sm opacity-80';
                    playlistInfo.textContent = `Playlist with ${info.entry_count} videos`;
                    views.parentNode.appendChild(playlistInfo);
                }

                infoDiv.classList.remove('hidden');
            }            async startDownload() {
                const url = document.getElementById('videoUrl').value.trim();
                const quality = document.getElementById('qualitySelect').value;
                const cookies = document.getElementById('cookiesInput').value.trim();

                const btn = document.getElementById('downloadBtn');
                btn.textContent = 'Starting...';
                btn.disabled = true;

                try {
                    const payload = { url, quality };
                    if (cookies) {
                        payload.cookies = cookies;
                    }

                    const response = await fetch('/api/download', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const data = await response.json();

                    if (!response.ok) {
                        throw new Error(data.error || 'Failed to start download');
                    }

                    this.currentDownloadId = data.download_id;
                    this.showProgressSection();
                    this.startProgressTracking();                } catch (error) {
                    let errorMessage = error.message;
                    
                    // Provide more helpful error messages
                    if (errorMessage.includes('Sign in to confirm you\'re not a bot')) {
                        errorMessage = '⚠️ YouTube bot protection detected. Please upload cookies below or try a different video.';
                    } else if (errorMessage.includes('Private video')) {
                        errorMessage = '🔒 This video is private. Please upload cookies if you have access.';
                    } else if (errorMessage.includes('Video unavailable')) {
                        errorMessage = '❌ Video unavailable. It may be deleted, blocked, or region-restricted.';
                    } else if (errorMessage.includes('Age-restricted')) {
                        errorMessage = '🔞 Age-restricted video. Please upload cookies to download.';
                    }
                    
                    this.showError(errorMessage);
                    btn.textContent = 'Start Download';
                    btn.disabled = false;
                }
            }showProgressSection() {
                document.getElementById('progressSection').classList.remove('hidden');
                document.getElementById('downloadBtn').style.display = 'none';
                // Hide error help section when starting new download
                document.getElementById('errorHelpSection').classList.add('hidden');
                document.getElementById('downloadLinkSection').classList.add('hidden');
            }

            startProgressTracking() {
                this.progressInterval = setInterval(async () => {
                    try {
                        const response = await fetch(`/api/progress/${this.currentDownloadId}`);
                        const data = await response.json();

                        if (!response.ok) {
                            throw new Error(data.error || 'Failed to get progress');
                        }

                        this.updateProgress(data);

                        if (data.status === 'completed') {
                            this.showDownloadLink();
                            clearInterval(this.progressInterval);
                        } else if (data.status === 'error') {
                            this.showError(data.error || 'Download failed');
                            clearInterval(this.progressInterval);
                        }

                    } catch (error) {
                        this.showError(error.message);
                        clearInterval(this.progressInterval);
                    }
                }, 1000);
            }            updateProgress(data) {
                const progressBar = document.getElementById('progressBar');
                const progressText = document.getElementById('progressText');
                const progressPercent = document.getElementById('progressPercent');

                progressBar.style.width = `${data.progress}%`;
                progressPercent.textContent = `${data.progress}%`;

                // Use enhanced status messages from the API
                if (data.status_message) {
                    progressText.textContent = data.status_message;
                } else {
                    // Fallback to original logic
                    switch (data.status) {
                        case 'starting':
                            progressText.textContent = 'Preparing download...';
                            break;
                        case 'downloading':
                            if (data.is_merging) {
                                progressText.textContent = `Downloaded: ${data.title || 'Video'} - Preparing to merge...`;
                            } else {
                                progressText.textContent = `Downloading: ${data.title || 'Video'}`;
                            }
                            break;
                        case 'merging':
                            progressText.textContent = `Merging video and audio: ${data.title || 'Video'}`;
                            progressBar.style.background = 'linear-gradient(45deg, #10b981, #059669)';
                            break;
                        case 'completed':
                            progressText.textContent = 'Download completed!';
                            progressBar.style.background = '#10b981';
                            break;                        case 'error':
                            const errorMsg = data.error || 'Download failed';
                            if (errorMsg.includes('restricted') || errorMsg.includes('403') || errorMsg.includes('forbidden')) {
                                progressText.innerHTML = `
                                    <div class="text-red-500">
                                        <span class="font-semibold">⚠️ Content Restricted</span><br>
                                        <span class="text-sm">${errorMsg}</span><br>
                                        <span class="text-xs opacity-75">Try a different video or quality setting</span>
                                    </div>
                                `;
                                // Show error help section
                                document.getElementById('errorHelpSection').classList.remove('hidden');
                            } else {
                                progressText.innerHTML = `<span class="text-red-500">❌ ${errorMsg}</span>`;
                            }
                            progressBar.style.background = '#ef4444';
                            break;
                        default:
                            progressText.textContent = 'Processing...';
                    }
                }
                
                // Add visual feedback for merging process
                if (data.is_merging || data.status === 'merging') {
                    progressBar.classList.add('progress-bar-animated');
                } else {
                    progressBar.classList.remove('progress-bar-animated');
                }
            }

            showDownloadLink() {
                const linkSection = document.getElementById('downloadLinkSection');
                const downloadLink = document.getElementById('downloadLink');
                
                downloadLink.href = `/api/download/${this.currentDownloadId}`;
                linkSection.classList.remove('hidden');
            }

            showError(message) {
                // Create error notification
                const errorDiv = document.createElement('div');
                errorDiv.className = 'fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
                errorDiv.textContent = message;
                
                document.body.appendChild(errorDiv);
                
                // Remove after 5 seconds
                setTimeout(() => {
                    if (errorDiv.parentNode) {
                        errorDiv.parentNode.removeChild(errorDiv);
                    }
                }, 5000);
            }

            formatDuration(seconds) {
                if (!seconds) return 'Unknown';
                
                const hours = Math.floor(seconds / 3600);
                const minutes = Math.floor((seconds % 3600) / 60);
                const secs = seconds % 60;
                
                if (hours > 0) {
                    return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                }
                return `${minutes}:${secs.toString().padStart(2, '0')}`;
            }

            formatNumber(num) {
                if (!num) return '0';
                
                if (num >= 1000000) {
                    return (num / 1000000).toFixed(1) + 'M';
                }
                if (num >= 1000) {
                    return (num / 1000).toFixed(1) + 'K';
                }
                return num.toString();
            }
        }

        // Initialize the downloader when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new YouTubeDownloader();
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>